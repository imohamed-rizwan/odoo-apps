<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<template id="invoice_qweb_reports.report_invoice_report">
		<t t-call="web.html_container">
			<t t-foreach="docs" t-as="o">
				<t t-call="web.external_layout">
					<div class="page">
						<h2>
							<center><span>Invoice Report</span></center>
						</h2>
						<div class="row">
							<div class="col-6">
								<h6>Company Details</h6>
								<p>Company Name: <span t-esc="o.company_id.name" /></p>
								<p>Company Address: <span t-esc="o.company_id.street" /></p>
								<p>Company City: <span t-esc="o.company_id.city" /></p>
								<p>Company Country: <span t-esc="o.company_id.country_id.name" /></p>
							</div>
							<div class="col-6">
								<h6>Customer Details</h6>
								<p>customer Name: <span t-esc="o.partner_id.name" /></p>
								<p>customer Address: <span t-esc="o.partner_id.street" /></p>
								<p>customer City: <span t-esc="o.partner_id.city" /></p>
								<p>customer Country: <span t-esc="o.partner_id.country_id.name" /></p>
							</div>
						</div>
						<div style="text-align: center;padding-top: 1cm;">
							<t t-if="o.type == 'out_invoice' and o.state == 'posted'">
								<b>
									<span style="font-size: 20px; padding-left: 2cm;">
										TAX INVOICE
									</span>
								</b>
							</t>
							<t t-if="o.state == 'posted' and o.type == 'out_refund'">
								<b>
									<span style="font-size: 20px; padding-left: 1cm;">
										TAX CREDIT NOTE
									</span>
								</b>
							</t>
							<t t-if="o.type == 'out_invoice' and o.state == 'draft'">
								<b>
									<span style="font-size: 20px; padding-left: 2cm;">
										Draft INVOICE
									</span>
								</b>
							</t>
							<t t-if="o.type == 'out_refund' and o.state == 'draft'">
								<b>
									<span style="font-size: 20px; padding-left: 2cm;">
										Draft INVOICE
									</span>
								</b>
							</t>
							<t t-if=" o.name">
								<b>
									<span t-field="o.name"/>
								</b>
							</t>
						</div>
						<div style="padding-top: 2cm;">
							<div class="row custom_width" style="padding-left:30px;padding-right:30px;">
								<div class="col-12">
									<table class="row" style="border: 1px solid rgba(221, 226, 230, 255)">
										<thead style="display:table-header-group;color:black;border: 1px solid rgba(221, 226, 230, 255)">
											<tr style="line-height: 1cm;border: 1px solid rgba(221, 226, 230, 255)">
												<td class="text-left"
													style="width:5%;padding-left: 1%;border: 1px solid rgba(221, 226, 230, 255)">
													<b>Sr</b>
												</td>
												<td class="text-left"
													style="width:12%; padding-left: 1%;border: 1px solid rgba(221, 226, 230, 255)">
													<b>Item Code</b>
												</td>
												<td class="text-left"
													style="width:30%; padding-left: 1%;border: 1px solid rgba(221, 226, 230, 255)">
													<b>Description</b>
												</td>
												<td class="text-left"
													style="width:15%; padding-left: 1%;border: 1px solid rgba(221, 226, 230, 255)">
													<b>Quantity</b>
												</td>
												<td class="text-right"
													style="width:12%; padding-right: 1%;border: 1px solid rgba(221, 226, 230, 255)">
													<b>Rate</b>
												</td>
												<t t-if="o.amount_by_group">
													<td class="text-left"
														style="width:8%; padding-left: 1%;border: 1px solid rgba(221, 226, 230, 255)">
														<b>VAT</b>
													</td>
												</t>
												<td class="text-right"
													style="width:30%; padding-right: 1%;border: 1px solid rgba(221, 226, 230, 255)">
													<b>Amount</b>
												</td>
											</tr>
										</thead>
										<tbody>
											<t t-set="index" t-value="0"/>
											<tr t-foreach="o.invoice_line_ids" t-as="line"
												style="border: 1px solid rgba(221, 226, 230, 255)">
												<tr t-att-class="'bg-200 font-weight-bold o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''"
													style="border: 1px solid rgba(221, 226, 230, 255)">
													<t t-if="not line.display_type">
														<t t-set="index" t-value="index+1"/>
														<td style="font-size: medium; width:100mm;border: 1px solid rgba(221, 226, 230, 255)">
															<span t-esc="index"/>
														</td>
														<td style="width:70mm;border: 1px solid rgba(221, 226, 230, 255)">
															<span t-field="line.product_id.default_code"/>
														</td>
														<td style="font-size: medium;width:70mm;border: 1px solid rgba(221, 226, 230, 255)">
															<span t-esc="line.name"/>
														</td>
														<td style="width:70mm;border: 1px solid rgba(221, 226, 230, 255)">
															<span t-esc="line.product_uom_id.name"/>
															     
															<span t-esc="'{:,.2f}'.format(line.quantity)"
																  style="padding-right: 2mm;"/>
														</td>
														<td style="font-size: medium;width:70mm; text-align: right;padding-right: 2mm;border: 1px solid rgba(221, 226, 230, 255)">
															<span style="padding-right: 3mm;"
																  t-esc="o.currency_id.symbol"/>
															<span t-esc="'{:,.3f}'.format(line.price_unit)"/>
														</td>
														<t t-if="o.amount_by_group">
															<td style="border: 1px solid rgba(221, 226, 230, 255)"
																name="tax_ids">
																<span t-esc="', '.join(map(lambda x: (x.description or x.name), line.tax_ids))"/>
															</td>
														</t>
														<td style="font-size: medium;width:70mm; text-align: right; padding-right: 1mm;border: 1px solid rgba(221, 226, 230, 255)">
															<span style="padding-right: 3mm;"
																  t-esc="o.currency_id.symbol"/>
															<span t-esc="'%.3f'%(line.price_subtotal)"/>
														</td>
													</t>
													<t t-if="line.display_type == 'line_section'">
														<td></td>
														<td></td>
														<td style="border: 1px solid rgba(221, 226, 230, 255)"
															colspan="99">
															<span t-field="line.name"/>
														</td>
													</t>
													<t t-if="line.display_type == 'line_note'">
														<td></td>
														<td></td>
														<td style="border: 1px solid rgba(221, 226, 230, 255)"
															colspan="99">
															<span t-field="line.name"/>
														</td>
													</t>
												</tr>
											</tr>
										</tbody>
									</table>
									<br/>
									<br/>
									<t t-if=" o.invoice_line_ids.tax_ids">
										<div class="row custom_width"
											 style="page-break-inside: avoid; padding-left: 50%;">
											<div class="col-4 text-left" style="font-size:16px;">
												<b>Untaxed Amount</b>
												<br/>
											</div>
											<div class="col-1 text-left" style="font-size:16px;width:2mm"/>
											<div class="col-12 text-right"
												 style="font-size:16px;padding-right:42%;">
												<strong>
													<span t-field="o.amount_untaxed"
														  t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
												</strong>
											</div>
										</div>
									</t>

									<t t-if=" o.invoice_line_ids.tax_ids">
										<div class="row custom_width"
											 style="page-break-inside: avoid; padding-left: 50%;">
											<div class="col-4 text-left" style="font-size:16px;">
												<b>VAT</b>
												<br/>
											</div>
											<div class="col-1 text-left" style="font-size:16px;width:2mm"/>
											<div class="col-12 text-right"
												 style="font-size:16px;padding-right:42%;">
												<t t-foreach="o.amount_by_group" t-as="amount_by_group">
													<tr style="">
														<t t-if="amount_by_group[3] == 1 and o.amount_untaxed == amount_by_group[2]">
															<td name="td_amount_by_group_label_3">
																<!-- <span t-esc="amount_by_group[0]" /> -->
																<span>&amp;nbsp;<span>on</span>&amp;nbsp;
																	<t t-esc="amount_by_group[2]"
																	   t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
																</span>
															</td>
															<td name="td_amount_by_group_3"
																class="text-right o_price_total">
																<span t-esc="amount_by_group[1]"
																	  t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
															</td>
														</t>
														<t t-else="">
															<td name="td_amount_by_group_label">
																<!-- <span t-esc="amount_by_group[0]" /> -->
															</td>
															<td name="td_amount_by_group"
																class="text-right o_price_total">
																<span t-esc="amount_by_group[1]"
																	  t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
															</td>
														</t>
													</tr>
												</t>
											</div>
										</div>
									</t>
									<div class="row custom_width"
										 style="page-break-inside: avoid; padding-left: 50%;">
										<div class="col-2 text-left" style="font-size:16px;">
											<b>Total</b>
											<br/>
										</div>
										<div class="col-1 text-left" style="font-size:16px;width:2mm"/>
										<div class="col-12 text-right" style="font-size:16px;padding-right:25%;">
											<strong>
												<span t-field="o.amount_total"
													  t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
											</strong>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</t>
			</t>
		</t>
	</template>
</odoo>